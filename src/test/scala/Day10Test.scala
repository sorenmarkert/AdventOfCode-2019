import Day10._
import org.scalatest.matchers.must.Matchers._
import org.scalatest.wordspec.AnyWordSpec

class Day10Test extends AnyWordSpec {

    "The asteroid mapper" should {

        "find the optimal sensor location" in {

            val testMaps = List(
                (""".#..#
                   |.....
                   |#####
                   |....#
                   |...##""", ((3,4), 8)),
                ("""......#.#.
                   |#..#.#....
                   |..#######.
                   |.#.#.###..
                   |.#..#.....
                   |..#....#.#
                   |#..#....#.
                   |.##.#..###
                   |##...#..#.
                   |.#....####
                   |""", ((5,8), 33)),
                ("""#.#...#.#.
                   |.###....#.
                   |.#....#...
                   |##.#.#.#.#
                   |....#.#.#.
                   |.##..###.#
                   |..#...##..
                   |..##....##
                   |......#...
                   |.####.###.""", ((1,2), 35)),
                (""".#..#..###
                   |####.###.#
                   |....###.#.
                   |..###.##.#
                   |##.##.#.#.
                   |....###..#
                   |..#.#..#.#
                   |#..#.#.###
                   |.##...##.#
                   |.....#.#..""", ((6,3), 41)),
                (""".#..##.###...#######
                   |##.############..##.
                   |.#.######.########.#
                   |.###.#######.####.#.
                   |#####.##.#.##.###.##
                   |..#####..#.#########
                   |####################
                   |#.####....###.#.#.##
                   |##.#################
                   |#####.##.###..####..
                   |..######..##.#######
                   |####.##.####...##..#
                   |.#####..#.######.###
                   |##...#.##########...
                   |#.##########.#######
                   |.####.#.###.###.#.##
                   |....##.##.###..#####
                   |.#.#.###########.###
                   |#.#.#.#####.####.###
                   |###.##.####.##.#..##""", ((11,13), 210)))

            testMaps.foreach { case (map, visibleAsteroids) => highestVisible(map.stripMargin) mustEqual visibleAsteroids }

        }

    }
}
